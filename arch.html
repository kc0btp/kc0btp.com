<!DOCTYPE html>

<html lang="en">
	<head>
		<title>kc0btp :: The Arch Linux Journey</title>
		<link rel="stylesheet" href="style.css">
	</head>

	<body>
		<div id="header">
			<a href="/">&lt; Home</a>
		</div>
		<div id="content">
			<h1>My Arch Linux Journey</h1>

			<h2>Motivation</h2>

			<p>I have dinked around with computers for a long time. My preferred daily driver is a Mac (I&apos;ve used Macs since 1991), and I&apos;ve used Windows at work a lot throughout the years, but I&apos;ve always had a latent interest in Linux. I&apos;ve installed Ubuntu on several occasions in the past to play around with something, but I typically ended up back on my Mac because Linux didn't offer me any practical advantages.</p>

			<p>I&apos;ve recently noticed a surge in Linux discussion in the corners of the internet I tend to observe, and saw a lot of it was about <a href="https://archlinux.org">Arch Linux</a>. Arch is not new, but my impression was that it was primarily for folks that want to kit-bash their own system, so I assumed it was beyond my capabilities. However, my interest was piqued, so I started poking around and almost immediately stumbled upon <a href="https://omarchy.org">Omarchy</a>. Neat. This seemed to fit right into this whole renaissance of &ldquo;old&rdquo; technology I&apos;ve also noticed has been gaining momentum (for example, <a href="https://www.vcfmw.org">VFC Midwest</a>).</p>

			<p>As a quick aside, I used to spend a lot more time doing hobbyist-type projects on computers, but because I work in technology, I slowly began to drift away from computing for fun. I estimate I&apos;d entirely dismissed computers as a hobby for at least the last five years. Some of it was due to work fatigue, and some was the stark realization that the tech world was moving faster than I could ever keep up. Why bother? Poor attitude, I know, but I think this &ldquo;hiatus&rdquo; put me in a good position to realize a couple of things:</p>

			<ol>
				<li>I don&apos;t need to be a 10x developer to find value in even the smallest of computing projects.</li>
				<li>There&apos;s still a lot of cool stuff that can be done with old computers.</li>
			</ol>

			<p>I have to thank a friend of mine with an extensive vintage computer collection for inspiration&mdash;this man attends a <i><a href="https://www.tandyassembly.com">Tandy-specific</a></i> computing con every year, if that tells you anything.</p>

			<p>Anyway, after I got over the googly-eyed wonder of Omarchy, I realized I didn&apos;t want another plug-and-play solution that I&apos;d spend an afternoon setting up and never use again. I wanted to really learn. That&apos;s when I decided to go with Arch.</p>

			<p>Below is a summary of the steps I took to get it installed on my particular system. There was a lot of trial and error, but the process was surprisingly smooth. I&apos;m still chipping away at it, so while I have a functional system, I'm still figuring out a good workflow and getting various tools installed to improve the UX.</p>

			<h2>Setup</h2>

			<p>I started with the Arch Installation Guide, which is generally the best resource to get through the installation.</p>

			<ol>
				<li>Downloaded the <a href="https://archlinux.org/download/">Arch ISO</a>.</li>
				<li>Created a bootable USB flash drive with Rufus on Windows.</li>
				<li>Since my UEFI/BIOS wasn&apos;t cooperating with an on-the-fly boot disk selection, I set boot priority in the BIOS to the flash drive first.</li>
				<li>Pinged <a href="https://www.google.com">google.com</a> to make sure the network was working (amazingly, it was).</li>
				<li>Partitioned the dedicated drive, using <kbd>fdisk /dev/the_disk_to_be_partitioned</kbd> following the recommended scheme (see Table 1).</li>
				<li>Formatted <pre>/</pre> and <pre>/boot</pre> with <kbd>mkfs.ext4 /dev/partition_name</kbd>.</li>
				<li>Formatted swap with <kbd>mkswap /dev/swap_partition</kbd>.</li>
				<li>Mounted the volumes, e.g. <kbd>mount /dev/root_partition /mnt</kbd>.</li>
				<li>Enabled swap, e.g. <kbd>swapon /dev/swap_partition</kbd>.</li>
			</ol>

			<table>
				<tr>
					<th>Mount Point</th>
					<th>Partition</th>
					<th>Partition Type</th>
					<th>Suggested Size</th>
				</tr>
				<tr>
					<td><pre>/boot</pre></td>
					<td><pre>/dev/efi_system_partition</pre></td>
					<td>EFI system partition</td>
					<td>1 GiB</td>
				</tr>
				<tr>
					<td>[SWAP]</td>
					<td><pre>/dev/swap_partition</pre></td>
					<td>Linux swap</td>
					<td>At least 4 GiB</td>
				</tr>
				<tr>
					<td><pre>/</pre></td>
					<td><pre>/dev/root_partition</pre></td>
					<td>Linux x86-64 root (/)</td>
					<td>Remainder of the device. At least 23&ndash;32 GiB.</td>
				</tr>
			</table>

			<p>My drive was called &ldquo;sda&rdquo;, so I used:
				<ul>
					<li><pre>/dev/sda1</pre> as <pre>/boot</pre> (2 GB)</li>
					<li><pre>/dev/sda2</pre> as <pre>swap</pre> (8GB)</li>
					<li><pre>/dev/sda3</pre> as <pre>/</pre> (Remaining Space)</li>
				</ul>
			</p>

			<h2>Installation</h2>

			<ol start="10">
				<li>Installed base software with pacstrap: <kbd>pacstrap -K /mnt base linux
			linux-firmware nano amd-ucode fsck man-db man-info</kbd></li>
				<ul>
					<li>I ended up trying to install several other packages that were either not available or for which I had the wrong name. For example Network Manager is &ldquo;networkmanager&rdquo;, but I didn&rsquo;t know that (I ended up installing it later).</li>
					<li>pacstrap can be invoked any time you&apos;re booted off the live install system to install additional hardware to your root volume.</li>
				</ul>
				<li>I went through the config steps, but I think I forgot to generate the <pre>fstab</pre> or I did something wrong. I&apos;ll mention this later.</li>
				<li>Installed GRUB as a boot loader: <kbd>grub-install --target=x86_64-efi --efi-directory=esp --bootloader-id=GRUB</kbd>. I read it doesn&apos;t play nicely with Windows (and in fact, it doesn’t recognize my Windows disk for some reason yet), but I’ve used it before so decided to use it again.</li>
			</ol>

			<h2>Launch</h2>

			<ol start="13">
				<li>At this point, I rebooted, but because I didn&apos;t set up GRUB to use secure boot, I had to disable it in the UEFI/BIOS. The good news is that Arch booted successfully. There were two bits of bad news:</li>
				<ol>
					<li>The boot seemed unusually slow.</li>
					<li>I couldn&rsquo;t connect to the internet.</li>
				</ol>
				<li>First to tackle the internet issue because I wouldn&apos;t be able to install anything with pacman otherwise (aside from using pacstrap). Fortunately, I found this: <a href="https://linuxvox.com/blog/arch-linux-network-ip/">https://linuxvox.com/blog/arch-linux-network-ip/</a>. I booted off USB, installed networkmanager with pacstrap, and then the network config was trivial:
					<ul>
						<li><kbd>sudo systemctl start NetworkManager</kbd></li>
						<li><kbd>sudo systemctl enable NetworkManager</kbd>&dagger;</li>
					</ul>
				</li>
				<li>Next, I installed zsh, and found this nice little guide to set the default shell and install PowerLevel10k: <a href="https://davidtsadler.com/posts/arch/2020-09-07/installing-zsh-and-powerlevel10k-on-arch-linux/">https://davidtsadler.com/posts/arch/2020-09-07/installing-zsh-and-powerlevel10k-on-arch-linux/</a>.</li>
				<li>I was also interested in <a href="https://dwm.suckless.org">dwm</a> from <a href="suckless.org">suckless.org</a> after watching a lot of <a href="https://www.youtube.com/@BreadOnPenguins">Bread on Penguins</a>, and followed another guide from the same author to get it, <a href="https://tools.suckless.org/dmenu/">dmenu</a>, and <a href="https://st.suckless.org">st</a> installed: <a href="https://davidtsadler.com/posts/arch/2020-08-17/installing-st-dmenu-dwm-in-arch-linux/">https://davidtsadler.com/posts/arch/2020-08-17/installing-st-dmenu-dwm-in-arch-linux/</a>.</li>
				<li>Next, I tackled the slow boot issue. Arch is configured to quiet boot by default so I had no idea what might be happening. Fortunately, I found this useful thread: <a href="https://bbs.archlinux.org/viewtopic.php?id=308506">https://bbs.archlinux.org/viewtopic.php?id=308506</a>. My problem was exactly the same as the OP&apos;s, so fixing the swap partition&apos;s UUID in the <pre>fstab</pre> was the key. This is why I&apos;m not sure whether I configured this properly during installation.</li>
			</ol>

			<h2>Tailoring</h2>

			<ol start="18">
				<li>I installed <a href="https://qutebrowser.org">qutebrowser</a>, again following the lead of Bread on Penguins.</li>
				<li>Set up dual monitors using xrandr: <kbd>xrandr --output DP-1 --primary --auto --output DP-3 --auto --right-of DP-1</kbd>.</li>
				<li>Decided to install <a href="http://librewolf.net">LibreWolf</a> for general browsing. It's a little easier for me to navigate for now instead of qutebrowser.</li>
				<li>Installed <a href="https://www.passwordstore.com">pass</a> as a command line password manager, which required me to generate GPG keys. I'm not sure whether I'll stick with this long term, but it'll at least allow me to easily keep a few passwords handy for now and copy them to the clipboard for use.</li>
				<li>Patched dwm successfully with the <a href="https://dwm.suckless.org/patches/functionalgaps/">functionalgaps</a> patch to improve the aesthetics of the tiled windows. This was my first time applying a .diff file, and is as simple as downloading the <pre>.diff</pre> file and running <kbd>patch < path/to/patch-file.diff</kbd> in the dwm folder. After that, a <kbd>sudo make clean install</kbd> failed because I discovered suckless patches wisely update the <pre>config.def.h</pre> file instead of the user-edited <pre>config.h</pre> file, so my config didn't contain some necessary definitions from the patch. Fortunately, I haven't don't any customization, so I was able to copy the default on top of my config and then built successfully.</li>
				<li>I had installed <a href="https://wiki.archlinux.org/title/Feh">feh</a> a while ago but hadn't tried using it to set the background (though I did snag a few background images at some point). It turns out, it's pretty trivial: <kbd>feh --bg-fill /path/to/image</kbd> and it set the background on both monitors. It's possible to set the monitors independently, but I like the same image on both monitors. The next challenge was to get the background to persist, which required me to create a <pre>.fehbg</pre> file in my home directory with essentially that same command and include a line in my <pre>.xinitrc</pre> to call it when starting up Xorg. It didn't work initially, but I eventually figured out that I needed to have the call to run my window manager <i>last</i> in the <pre>.xinitrc</pre> file for it to work properly.</li>
				<li>With the background set, I wanted to play with <a href="https://github.com/eylles/pywal16">pywall</a> to set some system colors. This also works pretty easily, though to get this working system-wide is going to take more work. A simple <kbd>wal -i /path/to/image</kbd> will at least set the terminal colors to a palette that matches the background. I tried some simple scripting to get the background set with a selection menu and then set the colors with <pre>wal</pre>, but I'm only partially successful. I'll have to get back to it later.
			</ol>

			<p>More to come...</p>

			<p class="note">&dagger;Note: to be fair, I did try editing some network config files prior to this following some instructions on a site I didn&apos;t keep notes on so I can&apos;t reference it here. It&apos;s possible something I did there helped, but nothing worked until I got NetworkManager installed and enabled.</p>

		</div>
		<div id="footer">
			Copyright &copy;2025, kc0btp.com
		</div>
	</body>
</html>
